package com.mgnrega.main;

import java.util.List;
import java.util.Scanner;

import com.main.Gpm;
import com.mgnrega.bean.Project;
import com.mgnrega.dao.MgnregaDao;
import com.mgnrega.dao.MgnregaDaoImpl;
import com.mgnrega.exceptions.MgnregaException;

public class Main {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		Scanner sc = new Scanner(System.in);
		System.out.println("Enter y if you want to login as BDO");
		String bdo = sc.next();
		if(bdo.equals("y")) {
			
			
			MgnregaDao dao = new MgnregaDaoImpl();
			
			System.out.println("Enter User Email :-");
			String email = sc.next();
			
			System.out.println("Enter User Password :-");
			String password = sc.next();
			
			try {
				String login = dao.LoginBdo(email, password);
				if(login.equals("done")) {
					System.out.println("Enter Project Details");
					
					System.out.println("Enter Project Id :-");
					int pid=sc.nextInt();
					
					System.out.println("Enter Project Name :-");
					String projectName=sc.next();
					Project p1 = new Project();
					p1.setPid(pid);
					p1.setProjectName(projectName);
					
					try {
						String msg = dao.insertIntoPorject(p1);
						System.out.println(msg);
					} catch (MgnregaException e) {
						// TODO Auto-generated catch block
						e.printStackTrace();
					}
					System.out.println("______________________________");
					try {
						List<Project> projects = dao.getAllProject();
						projects.forEach(p -> System.out.println(p));
					} catch (MgnregaException e) {
						// TODO Auto-generated catch block
						e.printStackTrace();
					}
					
					System.out.println("______________________________");
					System.out.println("Enter Gram Panchayat Details");
					 System.out.println("Enter Gram Panchayat Id :-");
					 int gid = sc.nextInt();
					 System.out.println("Enter Gram Panchayat Name :-");
					 String gname=sc.next();
					 System.out.println("Enter Gram Panchayat Employee Name :-");
					 String ename = sc.next();
					 System.out.println("Enter Employee Email :-");
					 String eemail= sc.next();
					 System.out.println("Enter Employee Password :-");
					 String epassword = sc.next();
					 System.out.println("Enter Employee Wages :-");
					 int wages = sc.nextInt();
					 Gpm g1 = new Gpm();
					 g1.setGid(gid);
					 g1.setGname(gname);
					 g1.setEname(ename);
					 g1.setEemail(eemail);
					 g1.setEpassword(epassword);
					 g1.setEwages(wages);
					 
					String gmn = dao.insertIntoGpm(g1);
					System.out.println(gmn);
					
					System.out.println("______________________________________________");
					List<Gpm> gmps = dao.getAllGpm();
					gmps.forEach( g -> System.out.println(g));
				}
			} catch (MgnregaException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
			
			
			
		}
	}

}
